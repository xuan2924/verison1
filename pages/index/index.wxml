<view class="container">
  <!-- é¡¶éƒ¨æ¨ªå¹… -->
  <view class="hero-section">
    <text class="hero-title">æ•…äº‹å å ä¹</text>
    <text class="hero-subtitle">ä¸å¥½å‹å…±åˆ›å¥‡å¦™æ•…äº‹</text>
  </view>

  <!-- å¿«é€Ÿæ“ä½œ -->
  <view class="quick-actions">
    <view class="action-card create" bindtap="createStory">
      <view class="action-icon">âœ¨</view>
      <text class="action-text">åˆ›å»ºæ–°æ•…äº‹</text>
      <text class="action-desc">å¼€å¯æ–°çš„åˆ›ä½œæ—…ç¨‹</text>
    </view>
    
    <view class="action-card join" bindtap="joinStory">
      <view class="action-icon">ğŸ”</view>
      <text class="action-text">åŠ å…¥æ•…äº‹</text>
      <text class="action-desc">è¾“å…¥IDå‚ä¸åˆ›ä½œ</text>
    </view>
  </view>

  <!-- æ•…äº‹åˆ†ç±» -->
  <view class="category-section">
    <text class="section-title">æ•…äº‹åˆ†ç±»</text>
    <scroll-view scroll-x class="category-list">
      <view 
        class="category-item {{currentCategory === 'all' ? 'active' : ''}}" 
        bindtap="switchCategory" 
        data-category="all"
      >
        å…¨éƒ¨
      </view>
      <view 
        class="category-item {{currentCategory === 'ongoing' ? 'active' : ''}}" 
        bindtap="switchCategory" 
        data-category="ongoing"
      >
        è¿›è¡Œä¸­
      </view>
      <view 
        class="category-item {{currentCategory === 'completed' ? 'active' : ''}}" 
        bindtap="switchCategory" 
        data-category="completed"
      >
        å·²å®Œæˆ
      </view>
    </scroll-view>
  </view>

  <!-- æ•…äº‹åˆ—è¡¨ -->
  <view class="stories-section">
    <view class="section-header">
      <text class="section-title">æˆ‘çš„æ•…äº‹</text>
      <text class="section-count">å…±{{filteredStories.length}}ä¸ª</text>
    </view>
    
    <view class="stories-list">
      <view 
        class="story-card" 
        wx:for="{{filteredStories}}" 
        wx:key="id"
        bindtap="enterStory" 
        data-id="{{item.id}}"
      >
        <view class="story-header">
          <text class="story-title">{{item.title}}</text>
          <view class="story-status {{item.status}}">
            {{item.status === 'waiting' ? 'ç­‰å¾…ä¸­' : item.status === 'playing' ? 'è¿›è¡Œä¸­' : 'å·²å®Œæˆ'}}
          </view>
        </view>
        
        <text class="story-theme">{{item.theme}}</text>
        
        <view class="story-progress">
          <view class="progress-bar">
            <view class="progress-fill" style="width: {{item.progress}}"></view>
          </view>
          <text class="progress-text">{{item.progress}}%</text>
        </view>
        
        <view class="story-footer">
          <view class="participants">
            <text class="participant-count">ğŸ‘¥ {{item.participants.length}}/{{item.maxParticipants}}</text>
            <text class="current-writer" wx:if="{{item.status === 'playing'}}">
              è½®åˆ°: {{item.currentWriter}}
            </text>
          </view>
          <text class="create-time">{{item.createTime}}</text>
        </view>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:if="{{filteredStories.length === 0}}">
      <image src="/images/empty-stories.png" class="empty-image"></image>
      <text class="empty-text">è¿˜æ²¡æœ‰æ•…äº‹å“¦</text>
      <text class="empty-desc">åˆ›å»ºç¬¬ä¸€ä¸ªæ•…äº‹ï¼Œé‚€è¯·å¥½å‹ä¸€èµ·ç©å§</text>
    </view>
  </view>
</view>
